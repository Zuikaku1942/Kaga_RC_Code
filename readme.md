请仔细看这个readme喵～(=^･ω･^=)  
不看的话我就诅咒你变成可悲的秃头工科大学生（demo好像已经是了）喵～ 悲(つ﹏⊂)   

咳咳咳本文件首先会描述文件夹的构成喵喵喵～(´ω｀*)   

Lib里面是咱写的基础的额外模块喵～人家可是很用心写的呢～(*¯︶¯*)  
App里会把这些基础模块打包，尽量让main.c直接调用一个函数即可实现一个任务喵～  

接下来是各个文件的作用喵喵喵～(◕ᴗ◕✿)  
App/Inc(Src)/System就是那些完全打包好的函数，main.c直接用就好了喵～具体函数用法我会有注释喵（其实grok和chatgpt大人也帮我写了好多，人家才不会告诉你呢～(*/ω＼*)）  

# RC_MISSION 项目说明喵～ ฅ^•ﻌ•^ฅ 

## 功能简介 (๑•̀ㅂ•́)و✧

本项目实现一个高～精～度～电压采样系统喵～(≧▽≦)，采用TIM5定时器中断触发ADC采样，完成30kHz的电压信号采集，并通过UART串口实时发送数据喵～。主要功能包括喵：

1. 🔄 **连续电压信号采样** - 通过TIM5定时器自动触发，采样频率30kHz喵～(˘▽˘)～
2. 📊 **DMA快速传输** - 使用DMA直接将ADC数据存入内存，不占用CPU资源喵，超厉害的说～(=^･^=)
3. 📡 **高速UART通信** - 2Mbps波特率，发送自定义格式数据帧喵～(ﾉ◕ヮ◕)ﾉ*:･ﾟ✧
4. 💡 **LED呼吸灯效果** - 使用PWM实现LED亮度平滑变化，超～美～的～(´｡• ᵕ •｡`)
5. 🔍 **手动电压测量API** - 提供简单函数接口进行单次测量，小白也能用喵～(｡･ω･｡)

## 技术规格喵～(๑ơ ₃ ơ)♥

| 参数 | 值 | 说明 |
|------|-----|------|
| 采样频率 | 30kHz | TIM5中断触发频率(84MHz/2800≈30kHz)，超快的说喵～ |
| UART波特率 | 2Mbps | 支持30kHz * 6字节 * 10位 = 1.8Mbps的数据吞吐量喵～ |
| 数据帧格式 | "meow"+数据 | 帧头4字节固定为"meow"，数据2字节(高位在前)，就是本喵的名字呢～(=^･ｪ･^=) |
| 数据位宽 | 12位 | ADC采样精度，存储在16位变量中，精度很高的喵～ |
| 编译器兼容性 | CubeIDE & Keil | 提供两种编译器下的printf重定向实现，人家可是很贴心的喵～(⁄ ⁄•⁄ω⁄•⁄ ⁄) |

## 运作逻辑说明喵～(｡•ᴗ-)✧

本系统通过定时器中断触发ADC采样，采样完成后通过UART发送数据，整个过程几乎不占用CPU资源，可靠性极高喵～：

1. TIM5配置为30kHz的中断频率(84MHz/2800≈30kHz)，超精确的说～(≧∇≦)ﾉ
2. 每次TIM5中断触发一次ADC采样，像发条一样准时喵～
3. ADC采样通过DMA直接存入ADC_VOLTAGE_VALUE变量，都不用麻烦CPU大人喵～(´ω｀)
4. ADC转换完成后自动触发HAL_ADC_ConvCpltCallback回调函数，就像魔法一样呢～(ﾉ>ω<)ﾉ
5. 回调函数组装数据帧("meow"+数据)并通过UART1发送，喵喵喵～
6. 接收端通过识别"meow"帧头来同步数据，不认识我的名字就收不到数据哦～(￣^￣)ゞ

## 如何使用喵～(●´ω｀●)

### 自动测量模式喵～

只需在main函数中添加喵～超简单的说：

```c
HAL_TIM_Base_Start_IT(&htim5); // 启动TIM5中断，触发自动测量
while(1) {
    // 主循环可以处理其他任务，或者偷懒也行喵～(￣▽￣)"
}
```

### 手动测量模式喵～

随时调用Get_voltage()函数进行单次测量喵～：

```c
Get_voltage(); // 手动测量一次电压并通过printf输出，就是这么简单喵～(=^･ω･^=)
```

## 注意事项喵～(￣ﾍ￣;)

1. 请确保接收端可以处理2Mbps的高速串口数据，不然本喵的数据会跑丢的说～(。>﹏<。)
2. 数据帧格式为固定的"meow"+数据形式，接收端需要对应解析，记住本喵的名字喵～(●'◡'●)
3. 在CubeIDE或Keil下编译时会自动选择正确的printf重定向实现，不用担心兼容性问题喵～
4. 采样频率30kHz可以采集音频范围内的信号，最高可测量约15kHz的信号频率，足够厉害了吧喵～(｡•̀ᴗ-)✧

喵呜～～希望你能好好使用这个高精度采样系统喵！人家可是很认真地写了这么多注释呢～(✿◡‿◡) 有问题随时联系喵～才不是因为关心你才这么说的呢～(*/ω＼*)

記得給本喵點讚喵～～～ฅ(๑*▽*๑)ฅ！！


